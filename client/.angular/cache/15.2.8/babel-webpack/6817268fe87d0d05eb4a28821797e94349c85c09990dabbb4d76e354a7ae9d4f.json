{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormGroup, FormControl } from '@angular/forms';\nlet TodoDetailsComponent = class TodoDetailsComponent {\n  constructor(route, resourceService) {\n    this.route = route;\n    this.resourceService = resourceService;\n    this.todoForm = new FormGroup({});\n    this.updateSuccess = false;\n    this.updateError = false;\n  }\n  ngOnInit() {\n    const id = this.route.snapshot.paramMap.get('id');\n    if (id) {\n      this.fetchTodo(id);\n    } else {\n      console.error('ID is null');\n    }\n  }\n  fetchTodo(id) {\n    this.resourceService.getTodo(id).subscribe(response => {\n      this.todo = response.todo;\n      this.todoForm = new FormGroup({\n        title: new FormControl(this.todo.title),\n        content: new FormControl(this.todo.content),\n        completed: new FormControl(this.todo.completed)\n      });\n    }, error => {\n      console.error(error);\n    });\n  }\n  onSubmit() {\n    this.resourceService.updateTodo(this.todo._id, this.todoForm.value).subscribe(response => {\n      this.updateSuccess = true;\n      this.updateError = false;\n    }, error => {\n      this.updateError = true;\n      this.updateSuccess = false;\n      console.error(error);\n    });\n  }\n};\nTodoDetailsComponent = __decorate([Component({\n  selector: 'app-todo-details',\n  templateUrl: './todo-details.component.html',\n  styleUrls: ['./todo-details.component.css']\n})], TodoDetailsComponent);\nexport { TodoDetailsComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAGjD,SAASC,SAAS,EAAEC,WAAW,QAAQ,gBAAgB;AAOhD,IAAMC,oBAAoB,GAA1B,MAAMA,oBAAoB;EAM/BC,YACUC,KAAqB,EACrBC,eAAgC;IADhC,UAAK,GAALD,KAAK;IACL,oBAAe,GAAfC,eAAe;IANzB,aAAQ,GAAc,IAAIL,SAAS,CAAC,EAAE,CAAC;IACvC,kBAAa,GAAY,KAAK;IAC9B,gBAAW,GAAY,KAAK;EAKxB;EAEJM,QAAQ;IACN,MAAMC,EAAE,GAAG,IAAI,CAACH,KAAK,CAACI,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAI,CAAC;IACjD,IAAIH,EAAE,EAAE;MACN,IAAI,CAACI,SAAS,CAACJ,EAAE,CAAC;KACnB,MAAM;MACLK,OAAO,CAACC,KAAK,CAAC,YAAY,CAAC;;EAE/B;EAEAF,SAAS,CAACJ,EAAU;IAClB,IAAI,CAACF,eAAe,CAACS,OAAO,CAACP,EAAE,CAAC,CAACQ,SAAS,CACxCC,QAAQ,IAAG;MACT,IAAI,CAACC,IAAI,GAAGD,QAAQ,CAACC,IAAI;MACzB,IAAI,CAACC,QAAQ,GAAG,IAAIlB,SAAS,CAAC;QAC5BmB,KAAK,EAAE,IAAIlB,WAAW,CAAC,IAAI,CAACgB,IAAI,CAACE,KAAK,CAAC;QACvCC,OAAO,EAAE,IAAInB,WAAW,CAAC,IAAI,CAACgB,IAAI,CAACG,OAAO,CAAC;QAC3CC,SAAS,EAAE,IAAIpB,WAAW,CAAC,IAAI,CAACgB,IAAI,CAACI,SAAS;OAC/C,CAAC;IACJ,CAAC,EACDR,KAAK,IAAG;MACND,OAAO,CAACC,KAAK,CAACA,KAAK,CAAC;IACtB,CAAC,CACF;EACH;EAEAS,QAAQ;IACN,IAAI,CAACjB,eAAe,CAACkB,UAAU,CAAC,IAAI,CAACN,IAAI,CAACO,GAAG,EAAE,IAAI,CAACN,QAAQ,CAACO,KAAK,CAAC,CAACV,SAAS,CAC3EC,QAAQ,IAAG;MACT,IAAI,CAACU,aAAa,GAAG,IAAI;MACzB,IAAI,CAACC,WAAW,GAAG,KAAK;IAC1B,CAAC,EACDd,KAAK,IAAG;MACN,IAAI,CAACc,WAAW,GAAG,IAAI;MACvB,IAAI,CAACD,aAAa,GAAG,KAAK;MAC1Bd,OAAO,CAACC,KAAK,CAACA,KAAK,CAAC;IACtB,CAAC,CACF;EACH;CACD;AAjDYX,oBAAoB,eALhCH,SAAS,CAAC;EACT6B,QAAQ,EAAE,kBAAkB;EAC5BC,WAAW,EAAE,+BAA+B;EAC5CC,SAAS,EAAE,CAAC,8BAA8B;CAC3C,CAAC,GACW5B,oBAAoB,CAiDhC;SAjDYA,oBAAoB","names":["Component","FormGroup","FormControl","TodoDetailsComponent","constructor","route","resourceService","ngOnInit","id","snapshot","paramMap","get","fetchTodo","console","error","getTodo","subscribe","response","todo","todoForm","title","content","completed","onSubmit","updateTodo","_id","value","updateSuccess","updateError","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\anita\\Desktop\\STUDIA\\APLIKACJE_WEBOWE\\ZALICZENIE-task-manager\\client\\src\\app\\todo-details\\todo-details.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { ResourceService } from '../services/resource.service';\nimport { FormGroup, FormControl } from '@angular/forms';\n\n@Component({\n  selector: 'app-todo-details',\n  templateUrl: './todo-details.component.html',\n  styleUrls: ['./todo-details.component.css']\n})\nexport class TodoDetailsComponent implements OnInit {\n  todo: any;\n  todoForm: FormGroup = new FormGroup({});\n  updateSuccess: boolean = false;\n  updateError: boolean = false;\n\n  constructor(\n    private route: ActivatedRoute,\n    private resourceService: ResourceService\n  ) { }\n\n  ngOnInit(): void {\n    const id = this.route.snapshot.paramMap.get('id');\n    if (id) {\n      this.fetchTodo(id);\n    } else {\n      console.error('ID is null');\n    }\n  }\n\n  fetchTodo(id: string): void {\n    this.resourceService.getTodo(id).subscribe(\n      response => {\n        this.todo = response.todo;\n        this.todoForm = new FormGroup({\n          title: new FormControl(this.todo.title),\n          content: new FormControl(this.todo.content),\n          completed: new FormControl(this.todo.completed)\n        });\n      },\n      error => {\n        console.error(error);\n      }\n    );\n  }\n\n  onSubmit(): void {\n    this.resourceService.updateTodo(this.todo._id, this.todoForm.value).subscribe(\n      response => {\n        this.updateSuccess = true;\n        this.updateError = false;\n      },\n      error => {\n        this.updateError = true;\n        this.updateSuccess = false;\n        console.error(error);\n      }\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}